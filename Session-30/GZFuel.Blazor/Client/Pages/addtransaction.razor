@page "/transactionlist/addtransaction"
@inject HttpClient httpClient;
@inject NavigationManager NavigationManager;
@using GZFuel.Blazor.Shared.DTO.Transaction;

@using GZFuel.Model.Entities;

<h3>Add New Transaction</h3>

@if(isLoading)
{
	<p> Loading ... </p>
} else
{
	<div class="row">

       <div class="col-md-6">
		   <label class="form-label">Customer Id</label>
		   <input class="form-control" @bind="@transaction.CustomerID"/> 
		   <button class="btn btn-primary" @onclick="ChooseCustomer">Choose Customer</button>

       </div>

		<div class="col-md-6">
			<label class="form-label">Employee Id</label>
			<input class="form-control" @bind="@transaction.EmployeeID" />
			<button class="btn btn-primary" @onclick="ChooseCustomer">Choose Employee</button>


		</div>

		<div class="col-md-6">
			<label class="form-label">Date</label>
			<input class="form-control" type="date" @bind="@transaction.Date" />

		</div>
		 <hr> 

		<div class="col-md-6 border-5">

			<label class="form-label">Payment Method</label>
			    <br> 
				<input class="form-check-input" type="checkbox" value="0" id="flexCheckDefault" @bind="@transaction.PaymentMethod">
				<label class="form-check-label" for="flexCheckDefault">
					Pay With Credit Card (Uncheck to pay with Cash)
				</label>
			
			

		</div>

		<br>

		<div class="col-md-6">
			<label class="form-label">Total value</label>
			<input class="form-control" @bind="@transaction.TotalValue" />

		</div>

	</div>

	<hr /> 
	<hr />

	<div class="col-md-3">
		<label class="form-label">Add Items </label>
		<br>

		<select class="form-select" aria-label="Default select example">
			<option selected>Choose Product Category</option>
			<option value="1">Fuel</option>
			<option value="2">Product</option>
			<option value="3">Service</option>
		</select>


		<select class="form-select" aria-label="Default select example">
			<option selected>Category Product</option>
			<option value="1">Fuel</option>
			<option value="2">Product</option>
			<option value="3">Service</option>
		</select>



		<div class="col-md-3">
			<label class="form-label">Quantity</label>
			<input class="form-control" @bind="@transactionLine.Quantity" />

		</div>

		<div class="col-md-3">
			<label class="form-label">Item Price</label>
			<input class="form-control" @bind="@transactionLine.ItemPrice" disabled/>

		</div>

		<div class="col-md-3">
			<label class="form-label">Total Value</label>
			<input class="form-control" @bind="@transactionLine.TotalValue" disabled />

		</div>

		<div class="col-md-3">
			<label class="form-label">Discount Value</label>
			<input class="form-control" @bind="@transactionLine.DiscountValue" disabled />

		</div>

		
		<button class="btn btn-primary" @onclick="AddTransactionLine">Add Items To Transaction</button>

	</div>



}


@code {

	private Boolean isLoading = true;
	Transaction transaction { get; set; }
	IEnumerable <TransactionLine> transactionLines { get; set; }
	TransactionLine transactionLine { get; set; }
	private Boolean hasTransactionLines = false;





	protected override async Task OnInitializedAsync()
	{
		transaction = new Transaction();
		transactionLines = new List<TransactionLine>();
		isLoading = false;
		transactionLine = new TransactionLine();
	}



	private void ChooseCustomer()
	{

	}

	private void ChooseEmployee()
	{

	}

	private void AddTransactionLine()
	{








	}




}














